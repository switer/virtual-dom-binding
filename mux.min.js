/**
* Mux.js v2.0.2
* (c) 2014 guankaishe
* Released under the MIT License.
*/
!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):"object"==typeof exports?exports.Mux=b():a.Mux=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";a.exports=c(1)},function(a,b,c){"use strict";function d(){return p++}function e(a){a=a||{},i(a),g.call(this,a)}function f(a){return i(a),function(b){var c=this.__proto__;this.__proto__=e.prototype,this.__proto__.__proto__=c,g.call(this,a,b)}}function g(a,b){function c(){return A.__kp__||""}function f(a){var b=c(),d=arguments;b&&(b+="."),d[0]="change:"+b+a,B.emit.apply(B,d)}function g(){var a=o.copyArray(arguments),b="*:"+c();a.unshift(b),B.emit.apply(B,a)}function i(a){var b=o.type(a);switch(b){case"object":return o.copyObject(a);case"array":return o.copyArray(a);default:return a}}function p(a,b){return~J.indexOf(b)?n.warn('"'+prop+"\" is a computed property, couldn't depend a computed property"):(o.patch(M,b,[]),void(~M[b].indexOf(a)||M[b].push(a)))}function q(a,b,c){var d;return a instanceof e&&a.__kp__==c?(d=a,d.$emitter(B)):d=new e({props:b,emitter:B,deep:!0}),void 0==d.__kp__?Object.defineProperty(d,"__kp__",{enumerable:!1,get:function(){return c},set:function(a){c=a}}):d.__kp__!=c&&(d.__kp__=c),d}function r(a,b,d){var g=o.type(b),h=d?d:c()+(c()?".":"")+a;if("array"==g&&m(b,function(b,c,d,e){var g=o.copyArray(b),i=d.apply(b,e);return L[a]=r(a,b,h),f(a,b,g),s(a),i}),!C)return b;switch(g){case"object":var i={},j=b;return b instanceof e&&(j=b.$props()),o.objEach(j,function(a,b){i[a]=r(a,b,h+"."+a)}),q(b,i,h);case"array":return b.forEach(function(c,d){c=r(d,c,h+"["+d+"]"),Object.defineProperty(b,d,{enumerable:!0,get:function(){return c},set:function(b){var e=b,g=a+"["+d+"]";c=r(d,b,g),f(g,c,e)}})}),b;default:return b}}function s(a){(M[a]||[]).forEach(function(a){o.patch(K,a,{}),K[a].pre=K[a].current,K[a].current=(H[a].fn||h).call(A,A),f(a,K[a].current,K[a].pre)})}function t(a,b){var c=l.normalize(a).split("."),d=c[0];if(~J.indexOf(d))return n.warn("Can't set value to computed property \""+d+'"'),!1;if(!~I.indexOf(d))return n.warn('Property "'+d+'" has not been observed'),!1;var f=L[d];l.set(L,a,b,function(a,c,d){d=i(b),a instanceof e?a.hasOwnProperty(c)?a.$set(c,d):a.$add(c,d):a[c]=i(d)});var g=L[d];return{mounted:d,next:g,pre:f}}function u(a,b){var c=o.merge({},A),d=t(a,b);if(d&&(C&&a==d.mounted||!C)&&o.diff(d.next,d.pre)){var e=d.mounted;s(e),f(e,d.next,d.pre),g(o.merge({},A),c)}}function v(a){if(a&&"object"==o.type(a)){var b,c=[],d=o.merge({},A),e=!1;for(var i in a)if(a.hasOwnProperty(i)){if(b=t(i,a[i]),!b)continue;if((C&&i==b.mounted||!C)&&o.diff(b.next,b.pre)){var j=b.mounted;f(j,b.next,b.pre),(M[j]||[]).reduce(function(a,b){return~a.indexOf(b)||a.push(b),a},c),e=!0}}c.forEach(function(a){o.patch(K,a,{});var b=K[a].pre=K[a].current,c=K[a].current=(H[a].fn||h).call(A,A);o.diff(c,b)&&f(a,c,b)}),e&&g(o.merge({},A),d)}}function w(a,b){var c=arguments.length;return k(!a.match(/[\.\[\]]/),"Unexpect propname NaN"),~I.indexOf(a)?void(c>1&&u(a,b)):(L[a]=r(a,i(b)),I.push(a),Object.defineProperty(A,a,{enumerable:!0,get:function(){return L[a]},set:function(b){u(a,b)}}),void f(a,b))}function x(a){var b={};a.forEach(function(a){k(!a.match(/[\.\[\]]/),"Unexpect propname NaN"),~I.indexOf(a)||(I.push(a),b[a]={enumerable:!0,get:function(){return L[a]}})}),Object.defineProperties(A,b)}function y(a){var b,c={};o.objEach(a,function(d,e){return e=a[d],k(!d.match(/[\.\[\]]/),"Unexpect propname NaN"),~I.indexOf(d)?(!b&&(b={}),void(b[d]=e)):(L[d]=r(d,e),I.push(d),void(c[d]={enumerable:!0,get:function(){return L[d]}}))}),Object.defineProperties(A,c),b&&v(b)}function z(a,b,c){switch(!1){case"string"==o.type(a):n.warn("Computed property's name should be type of String");case"array"==o.type(b):n.warn('Computed property\'s "deps" should be type of Array');case"function"==o.type(c):n.warn('Computed property\'s "fn" should be type of Function')}~J.indexOf(a)||(J.push(a),H[a]={deps:b,fn:c},(b||[]).forEach(function(b){p(a,b)}),o.patch(K,a,{}),K[a].current=(c||h).call(A,A),Object.defineProperty(A,a,{enumerable:!0,get:function(){return K[a].current}}))}var A=this,B=a.emitter||new j(A),C=!!a.deep;Object.defineProperty(A,"__muxid__",{enumerable:!1,value:d()});var D,E=a.props,F={},G={};D="function"==o.type(E)?E():"object"==o.type(E)?E:{};var H=a.computed||{},I=Object.keys(D),J=Object.keys(H),K={},L={},M={};I.forEach(function(a){L[a]=r(a,D[a]),F[a]={enumerable:!0,get:function(){return L[a]},set:function(b){u(a,b)}}}),Object.defineProperties(A,F),F=null,J.forEach(function(a){var b=H[a],c=b.deps,d=b.fn;"function"!=o.type(d)&&n.warn("Computed property "+a+'\'s "fn" should be a function'),c&&(c.forEach(function(b){p(a,b)}),o.patch(K,a,{}),K[a].current=(d||h).call(A,A),G[a]={enumerable:!0,get:function(){return K[a].current},set:function(){n.warn("Can not set value to a computed property")}})}),Object.defineProperties(A,G),G=null,Object.defineProperties(A,{$add:{enumerable:!1,value:function(){var a=arguments[0],b=o.type(a);return"string"==b?arguments.length>1?w(arguments[0],arguments[1]):w(arguments[0]):"array"==b?x(a):"object"==b&&y(a),this}},$computed:{enumerable:!1,value:function(a,b,c){if("string"==o.type(a))z(a,b,c);else if("object"==o.type(a)){var d=arguments[0];for(a in d){var e=d[a];z(a,e.deps,e.fn)}}else n.warn('$computed params show be "(String, Array, Function)" or "(Object)"');return this}},$set:{enumerable:!1,value:function(){var a=arguments.length;return a>=2||1==a&&"string"==o.type(arguments[0])?u(arguments[0],arguments[1]):1==a&&"object"==o.type(arguments[0])?v(arguments[0]):n.warn("Unexpect $set params"),this}},$get:{enumerable:!1,value:function(a){if(~I.indexOf(a))return L[a];if(~J.indexOf(a))return(H[a].fn||h).call(A,A);var b=l.normalize(a),c=b.split(".");return~I.indexOf(c[0])?l.get(L,b):void 0}},$watch:{enumerable:!1,value:function(){var a,b,d=arguments.length;if(d>=2){var e=c();e&&(e+="."),a="change:"+arguments[0],b=arguments[1]}else{if(1!=d||"function"!=o.type(arguments[0]))return n.warn("Unexpect $watch params"),h;a="*:"+c(),b=arguments[0]}B.on(a,b);var f=this,g=arguments;return function(){f.$unwatch.apply(f,g)}}},$unwatch:{enumerable:!1,value:function(){var a,b=arguments.length,d=c();return b>=2?(d&&(d+="."),a="change:"+d+arguments[0],B.off(a,arguments[1])):1==b&&"string"==o.type(arguments[0])?(d&&(d+="."),B.off("change:"+d+arguments[0])):1==b&&"function"==o.type(arguments[0])?B.off("*:"+d,arguments[0]):0==b?B.off():n.warn("Unexpect param type of "+arguments[0]),this}},$props:{enumerable:!1,value:function(){return o.copyObject(L)}},$emitter:{enumerable:!1,value:function(a){B=a}}}),v(b)}function h(){}function i(a){if(a){var b=a.props,c=a.computed;b&&k.type(b,["function","object"]),c&&k.type(c,["object"])}}var j=c(2),k=c(3),l=c(4),m=c(5),n=c(6),o=c(7),p=0;e.extend=function(a){return f(a||{})},e.config=function(a){a.warn===!1?n.disable():n.enable()},a.exports=e},function(a){"use strict";function b(a){this._observers={},this._context=a}function c(a,b,c){!a[b]&&(a[b]=c)}function d(a){return/\[object (\w+)\]/.exec(Object.prototype.toString.call(a))[1].toLowerCase()}b.prototype.on=function(a,b){c(this._observers,a,[]),this._observers[a].push({cb:b})},b.prototype.off=function(a,b){var c,e=arguments.length;if(e>=2)c=[a];else if(1==e&&"function"==d(arguments[0]))b=arguments[0],c=Object.keys(this._observers);else{if(1!=e)return this._observers=[],this;c=[a]}var f=this;return c.forEach(function(a){var c=f._observers[a];if(c){var d=[];b&&c.forEach(function(a){a.cb!==b&&d.push(a)}),f._observers[a]=d}}),this},b.prototype.emit=function(a){var b=this._observers[a];if(b){var c=[].slice.call(arguments);c.shift();var d=this;b.forEach(function(a){a.cb&&a.cb.apply(d._context||null,c)})}};var e=new b;b.on=function(){e.on.apply(e,arguments)},b.off=function(){e.off.apply(e,arguments)},b.emit=function(){e.emit.apply(e,arguments)},a.exports=b},function(a,b,c){"use strict";function d(a,b){if(!a)throw new Error(b||"Unexpect error")}var e=c(7);d.type=function(a,b,c){var d=e.type(b),f=e.type(a);if("string"==d){if(f!=b)throw new Error(c||"Expect param's type be "+b+" not "+f)}else if("array"==d&&!b.some(function(a){return f==a?!0:void 0}))throw new Error(c||"Unexpect param's type "+f+", it should one of "+b.join(","))},a.exports=d},function(a){"use strict";function b(a){return new String(a).replace(/\[([^\[\]])+\]/g,function(a,b){return"."+b})}function c(a,c,d,e){var f=b(c).split("."),g=f.pop(),h=a;return f.forEach(function(a){h=h[a]}),e?e(h,g,d):h[g]=d,a}function d(a,c){var d=b(c).split("."),e=a;return d.forEach(function(a){e=e[a]}),e}a.exports={normalize:b,set:c,get:d}},function(a){"use strict";var b=["splice","push","pop","shift","unshift"],c="__hook__";a.exports=function(a,d){b.forEach(function(b){if(a[b][c])return void a[b][c](d);var e=a[b];Object.defineProperty(a,b,{enumerable:!1,value:function(){return d(a,b,e,arguments)}}),Object.defineProperty(a[b],c,{enumerable:!1,value:function(a){d=a}})})}},function(a){"use strict";var b=!0;a.exports={enable:function(){b=!0},disable:function(){b=!1},warn:function(a){return b?console.warn?console.warn(a):void console.log(a):void 0}}},function(a){"use strict";a.exports={type:function(a){return/\[object (\w+)\]/.exec(Object.prototype.toString.call(a))[1].toLowerCase()},objEach:function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])},patch:function(a,b,c){!a[b]&&(a[b]=c)},diff:function(a,b){return a!==b||a instanceof Object},merge:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a},copyArray:function(a){for(var b=a.length,c=new Array(b);b--;)c[b]=a[b];return c},copyObject:function(a){var b={};return this.objEach(a,function(a,c){b[a]=c}),b}}}])});